{"swagger":"2.0","info":{"title":"entity/v1/entity.proto","version":"version not set"},"tags":[{"name":"EntityService"}],"consumes":["application/json"],"produces":["application/json"],"paths":{"/v1":{"get":{"summary":"Query is used to search for entities (people or organisations).","operationId":"EntityService_Query","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1QueryResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"offset","in":"query","required":false,"type":"string","format":"int64"},{"name":"limit","in":"query","required":false,"type":"string","format":"int64"},{"name":"searchText","in":"query","required":false,"type":"string"},{"name":"customers","in":"query","required":false,"type":"boolean"},{"name":"externalRef","in":"query","required":false,"type":"string"},{"name":"entityId","in":"query","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"}],"tags":["EntityService"]},"post":{"summary":"Create an entity.","operationId":"EntityService_Create","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1CreateResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"body","description":"CreateRequest contains information needed to create a new entity.","in":"body","required":true,"schema":{"$ref":"#/definitions/v1CreateRequest"}}],"tags":["EntityService"]}},"/v1/link":{"post":{"summary":"Link links the specified entities to each other.","operationId":"EntityService_Link","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1LinkResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"body","description":"LinkRequest specifies the ownership to create between 2 entities when the\nLink method is called.","in":"body","required":true,"schema":{"$ref":"#/definitions/v1LinkRequest"}}],"tags":["EntityService"]}},"/v1/relationships/{relationship.id}":{"put":{"summary":"UpdateRelationship updates an existing relationship","operationId":"EntityService_UpdateRelationship2","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateRelationshipResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"relationship.id","in":"path","required":true,"type":"string"},{"name":"body","in":"body","required":true,"schema":{"type":"object","properties":{"relationship":{"type":"object","properties":{"type":{"$ref":"#/definitions/v1RelationshipType"},"sourceEntityId":{"type":"string","description":"Source entity for the relationship."},"targetEntityId":{"type":"string","description":"Target entity for the relationship."},"keyPersonNature":{"$ref":"#/definitions/v1KeyPersonNature"},"relatedPartyNature":{"$ref":"#/definitions/v1RelatedPartyNature"},"ownership":{"type":"number","format":"float","title":"If applicable, the effective percentage ownership of the target by the source (50% is 50.0)"}},"description":"Relationship expresses a relationship of some kind between 2 entities."},"updateMask":{"type":"string"}},"title":"UpdateRelationshipRequest is used to change details on an existing relationship"}}],"tags":["EntityService"]},"patch":{"summary":"UpdateRelationship updates an existing relationship","operationId":"EntityService_UpdateRelationship","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateRelationshipResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"relationship.id","in":"path","required":true,"type":"string"},{"name":"relationship","in":"body","required":true,"schema":{"type":"object","properties":{"type":{"$ref":"#/definitions/v1RelationshipType"},"sourceEntityId":{"type":"string","description":"Source entity for the relationship."},"targetEntityId":{"type":"string","description":"Target entity for the relationship."},"keyPersonNature":{"$ref":"#/definitions/v1KeyPersonNature"},"relatedPartyNature":{"$ref":"#/definitions/v1RelatedPartyNature"},"ownership":{"type":"number","format":"float","title":"If applicable, the effective percentage ownership of the target by the source (50% is 50.0)"}},"description":"Relationship expresses a relationship of some kind between 2 entities."}},{"name":"updateMask","in":"query","required":false,"type":"string"}],"tags":["EntityService"]}},"/v1/relationships/{relationshipId}":{"get":{"summary":"GetRelationship retrieves a relationship by ID","operationId":"EntityService_GetRelationship","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1GetRelationshipResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"relationshipId","in":"path","required":true,"type":"string"}],"tags":["EntityService"]}},"/v1/unlink":{"post":{"summary":"Unlink unlinks the specified entities from each other.","operationId":"EntityService_Unlink","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UnlinkResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"body","description":"UnlinkRequest specifies the ownership to break when calling the Unlink\nmethod.","in":"body","required":true,"schema":{"$ref":"#/definitions/v1UnlinkRequest"}}],"tags":["EntityService"]}},"/v1/{entity.id}":{"put":{"summary":"Update an entity.","operationId":"EntityService_Update2","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"entity.id","in":"path","required":true,"type":"string"},{"name":"body","in":"body","required":true,"schema":{"type":"object","properties":{"entity":{"type":"object","properties":{"name":{"type":"string"},"risk":{"$ref":"#/definitions/v1Risk","title":"The AML risk this entity represents to the Reporting Entity"},"person":{"$ref":"#/definitions/v1Person","title":"// require at least one field to be set\noption (validate.required) = true;"},"organisation":{"$ref":"#/definitions/v1Organisation"},"customer":{"type":"boolean","description":"Customer-specific fields. When the entity is also a customer, the following\nfields will be populated."},"businessNature":{"type":"string"},"relationshipPurpose":{"type":"string"},"externalRef":{"type":"string","description":"A unique reference to the entity if it exists in an external system (e.g.\nCRM)."},"keyPeople":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"description":"Key people connected to this entity if the entity is an organisation. This\nis used to describe UBO-type relationshsips."},"relatedParties":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"description":"Other entities connected to this entity. This is used to describe any\nrelationship of significance such as remitter/remittee, buyer/seller, etc."},"keyPersonOf":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"title":"All of the entities this entity is a key person of"},"relatedPartyOf":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"title":"All of the entities this entity is a related person of"}},"description":"Entity represents an organisation or person associated with the customer.\nEntities are linked through relationships to create an ownership structure."},"updateMask":{"type":"string"}},"description":"UpdateRequest is used to specify an entity to update."}}],"tags":["EntityService"]},"patch":{"summary":"Update an entity.","operationId":"EntityService_Update","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"entity.id","in":"path","required":true,"type":"string"},{"name":"entity","in":"body","required":true,"schema":{"type":"object","properties":{"name":{"type":"string"},"risk":{"$ref":"#/definitions/v1Risk","title":"The AML risk this entity represents to the Reporting Entity"},"person":{"$ref":"#/definitions/v1Person","title":"// require at least one field to be set\noption (validate.required) = true;"},"organisation":{"$ref":"#/definitions/v1Organisation"},"customer":{"type":"boolean","description":"Customer-specific fields. When the entity is also a customer, the following\nfields will be populated."},"businessNature":{"type":"string"},"relationshipPurpose":{"type":"string"},"externalRef":{"type":"string","description":"A unique reference to the entity if it exists in an external system (e.g.\nCRM)."},"keyPeople":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"description":"Key people connected to this entity if the entity is an organisation. This\nis used to describe UBO-type relationshsips."},"relatedParties":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"description":"Other entities connected to this entity. This is used to describe any\nrelationship of significance such as remitter/remittee, buyer/seller, etc."},"keyPersonOf":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"title":"All of the entities this entity is a key person of"},"relatedPartyOf":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"title":"All of the entities this entity is a related person of"}},"description":"Entity represents an organisation or person associated with the customer.\nEntities are linked through relationships to create an ownership structure."}},{"name":"updateMask","in":"query","required":false,"type":"string"}],"tags":["EntityService"]}},"/v1/{entityId}":{"get":{"summary":"Get retrieves the entity specified.\nQuery params (e.g. max_depth) are automatically bound.","operationId":"EntityService_Get","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1GetResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"entityId","in":"path","required":true,"type":"string"}],"tags":["EntityService"]},"delete":{"summary":"Delete the specified entity.","operationId":"EntityService_Delete","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1DeleteResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"entityId","in":"path","required":true,"type":"string"}],"tags":["EntityService"]}}},"definitions":{"EntityRelationshipDetail":{"type":"object","properties":{"entity":{"$ref":"#/definitions/entityv1Entity"},"relationship":{"$ref":"#/definitions/v1Relationship"}},"title":"RelationshipDetail combines relationship and entity information"},"PersonAddress":{"type":"object","properties":{"residence":{"type":"string"},"locality":{"type":"string","description":"village, island, town, city, etc."},"region":{"type":"string","description":"state, province, etc."},"postCode":{"type":"string"},"country":{"type":"string"}},"title":"Variable address elements that help identify an individual's place of\nresidence within the given locality. For example, building, sub-building,\npremise number (house number), premise range thoroughfare (street),\nsub-thoroughfare, double-dependent locality sub-locality (suburb)"},"PersonGender":{"type":"string","enum":["GENDER_UNSPECIFIED","GENDER_MALE","GENDER_FEMALE","GENDER_NON_BINARY","GENDER_OTHER_TERM"],"default":"GENDER_UNSPECIFIED","title":"Gender is used to record an indiviual's gender"},"entityv1Entity":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"risk":{"$ref":"#/definitions/v1Risk","title":"The AML risk this entity represents to the Reporting Entity"},"person":{"$ref":"#/definitions/v1Person","title":"// require at least one field to be set\noption (validate.required) = true;"},"organisation":{"$ref":"#/definitions/v1Organisation"},"customer":{"type":"boolean","description":"Customer-specific fields. When the entity is also a customer, the following\nfields will be populated."},"businessNature":{"type":"string"},"relationshipPurpose":{"type":"string"},"externalRef":{"type":"string","description":"A unique reference to the entity if it exists in an external system (e.g.\nCRM)."},"keyPeople":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"description":"Key people connected to this entity if the entity is an organisation. This\nis used to describe UBO-type relationshsips."},"relatedParties":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"description":"Other entities connected to this entity. This is used to describe any\nrelationship of significance such as remitter/remittee, buyer/seller, etc."},"keyPersonOf":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"title":"All of the entities this entity is a key person of"},"relatedPartyOf":{"type":"array","items":{"$ref":"#/definitions/EntityRelationshipDetail"},"title":"All of the entities this entity is a related person of"}},"description":"Entity represents an organisation or person associated with the customer.\nEntities are linked through relationships to create an ownership structure."},"protobufAny":{"type":"object","properties":{"@type":{"type":"string"}},"additionalProperties":{}},"rpcStatus":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"details":{"type":"array","items":{"$ref":"#/definitions/protobufAny"}}}},"v1CreateRequest":{"type":"object","properties":{"entity":{"$ref":"#/definitions/entityv1Entity"},"keyPersonOfId":{"type":"string"},"relatedPartyOfId":{"type":"string"}},"description":"CreateRequest contains information needed to create a new entity."},"v1CreateResponse":{"type":"object","properties":{"entity":{"$ref":"#/definitions/entityv1Entity"},"relationship":{"$ref":"#/definitions/v1Relationship"}},"description":"CreateResponse returns the newly created entity for the Create method and a minimal relationship if a source\nentity ID was provided."},"v1DeleteResponse":{"type":"object","description":"DeleteResponse returns an empty response and can be ignored."},"v1GetRelationshipResponse":{"type":"object","properties":{"relationship":{"$ref":"#/definitions/v1Relationship"}},"title":"GetRelationshipReponse returns a relationship"},"v1GetResponse":{"type":"object","properties":{"entity":{"$ref":"#/definitions/entityv1Entity"}},"description":"GetResponse returns an entity based on the entity id\nprovided in the GetRequest."},"v1KeyPersonNature":{"type":"string","enum":["KEY_PERSON_NATURE_UNSPECIFIED","KEY_PERSON_NATURE_OWNER","KEY_PERSON_NATURE_DIRECTOR","KEY_PERSON_NATURE_CONTROLLER","KEY_PERSON_NATURE_KEY_MANAGER","KEY_PERSON_NATURE_TRUSTEE","KEY_PERSON_NATURE_BENEFICIARY","KEY_PERSON_NATURE_AGENT","KEY_PERSON_NATURE_MEMBER","KEY_PERSON_NATURE_VENDOR"],"default":"KEY_PERSON_NATURE_UNSPECIFIED","title":"Possible types of key person"},"v1LinkRequest":{"type":"object","properties":{"relationship":{"$ref":"#/definitions/v1Relationship"}},"description":"LinkRequest specifies the ownership to create between 2 entities when the\nLink method is called."},"v1LinkResponse":{"type":"object","properties":{"relationship":{"$ref":"#/definitions/v1Relationship"}},"description":"LinkResponse is returned by the Link method. It returns the newly-created relationship."},"v1Organisation":{"type":"object","properties":{"name":{"type":"string"},"number":{"type":"string"},"type":{"$ref":"#/definitions/v1OrganisationType"},"industry":{"type":"string"}},"description":"Organisation contains core identifying information for an organisation."},"v1OrganisationType":{"type":"string","enum":["TYPE_UNSPECIFIED","TYPE_COMPANY","TYPE_TRUST","TYPE_LISTED_COMPANY","TYPE_NOMINEE","TYPE_GOVERNMENT","TYPE_PUBLIC_PRIVATE","TYPE_INFORMAL_GROUP"],"default":"TYPE_UNSPECIFIED","description":"Type is the list of values that can be used when setting the type of\norganisation."},"v1Person":{"type":"object","properties":{"givenNames":{"type":"string"},"familyName":{"type":"string"},"dateOfBirth":{"type":"string","description":"Date of birth is a string because it is locale-specific. Expected pattern:\nyyyy-mm-dd."},"placeOfBirth":{"type":"string"},"gender":{"$ref":"#/definitions/PersonGender"},"address":{"$ref":"#/definitions/PersonAddress"},"occupation":{"type":"string"}},"description":"Person contains core identifying information needed for an individual."},"v1QueryResponse":{"type":"object","properties":{"cursor":{"type":"array","items":{"$ref":"#/definitions/entityv1Entity"}},"matches":{"type":"string","format":"int64"}},"description":"QueryResponse returns a paged list of entities matching\nQueryRequest criteria. Matches provides the total number of records matching\nthe query regardless of limit."},"v1RelatedPartyNature":{"type":"string","enum":["RELATED_PARTY_NATURE_UNSPECIFIED","RELATED_PARTY_NATURE_REMITTEE","RELATED_PARTY_NATURE_PURCHASER","RELATED_PARTY_NATURE_RECIPIENT"],"default":"RELATED_PARTY_NATURE_UNSPECIFIED","title":"Possible types of related party"},"v1Relationship":{"type":"object","properties":{"id":{"type":"string"},"type":{"$ref":"#/definitions/v1RelationshipType"},"sourceEntityId":{"type":"string","description":"Source entity for the relationship."},"targetEntityId":{"type":"string","description":"Target entity for the relationship."},"keyPersonNature":{"$ref":"#/definitions/v1KeyPersonNature"},"relatedPartyNature":{"$ref":"#/definitions/v1RelatedPartyNature"},"ownership":{"type":"number","format":"float","title":"If applicable, the effective percentage ownership of the target by the source (50% is 50.0)"}},"description":"Relationship expresses a relationship of some kind between 2 entities."},"v1RelationshipType":{"type":"string","enum":["TYPE_UNSPECIFIED","TYPE_RELATED_PARTY_OF","TYPE_KEY_PERSON_OF"],"default":"TYPE_UNSPECIFIED","description":"The type of relationship between the 2 entities (aka Label).\nSource and Target nodes are defined by the relationship type. For a\nTYPE_KEY_PERSON_OF relationship, the source is a person entity and the\ntarget is an organisation entity."},"v1Risk":{"type":"string","enum":["RISK_UNSPECIFIED","RISK_LOW","RISK_MODERATE","RISK_HIGH"],"default":"RISK_UNSPECIFIED","title":"The AML risk an entity represents to the Reporting Entity"},"v1UnlinkRequest":{"type":"object","properties":{"relationship":{"$ref":"#/definitions/v1Relationship"}},"description":"UnlinkRequest specifies the ownership to break when calling the Unlink\nmethod."},"v1UnlinkResponse":{"type":"object","description":"UnlinkResponse is returned by the Unlink method. It is empty so can be safely\nignored."},"v1UpdateRelationshipResponse":{"type":"object","properties":{"relationship":{"$ref":"#/definitions/v1Relationship"}},"title":"UpdateRelationshipResponse returns an updated relationship base on the one provided in the request"},"v1UpdateResponse":{"type":"object","properties":{"entity":{"$ref":"#/definitions/entityv1Entity"}},"description":"UpdateResponse returns an updated entity based on the one provided\nin the UpdateRequest."}}}