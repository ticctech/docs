{"swagger":"2.0","info":{"title":"clientapi/v1/clientapi.proto","version":"version not set"},"tags":[{"name":"ClientAPIService"}],"consumes":["application/json"],"produces":["application/json"],"paths":{"/v1":{"post":{"summary":"Initiate a set of checks","operationId":"ClientAPIService_Initiate","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1InitiateResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"body","in":"body","required":true,"schema":{"$ref":"#/definitions/v1InitiateRequest"}}],"tags":["ClientAPIService"]}},"/v1/entities/{entity.ref}":{"patch":{"summary":"UpdateEntity updates an entity's details. If new key people are added,\nworkflows will be triggered for them, otherwise no automatic re-checking\nis done.","operationId":"ClientAPIService_UpdateEntity","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateEntityResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"entity.ref","description":"Client's reference or ID","in":"path","required":true,"type":"string"},{"name":"entity","description":"Entity is an organisation, group or individual subject to AML checks","in":"body","required":true,"schema":{"type":"object","properties":{"person":{"$ref":"#/definitions/v1Person","title":"Either person or organisation must be set"},"organisation":{"$ref":"#/definitions/v1Organisation"},"customer":{"type":"boolean","title":"Indicate whether the person has a direct relationship with the reporting\nentity, therefore subject to KYC"},"businessNature":{"type":"string","title":"Nature of the entity's business (if a customer)"},"relationshipPurpose":{"type":"string","title":"Purpose of the relationship between the reporting entity and the entity\n(if a customer)"},"phone":{"type":"string","title":"Contact telephone number for AML inquiry follow-up"},"email":{"type":"string","title":"Contact email address for AML inquiy follow-up"},"addresses":{"type":"array","items":{"$ref":"#/definitions/v1Address"},"description":"Addresses for this entity."},"documents":{"type":"array","items":{"$ref":"#/definitions/v1Document"},"title":"Evidential documents for checks"},"keyPeople":{"type":"array","items":{"$ref":"#/definitions/v1KeyPerson"},"description":"Key people that belong to this entity. For this to be valid, this entity\nmust be an organisation and the key people must be persons."}},"title":"Entity is an organisation, group or individual subject to AML checks"}}],"tags":["ClientAPIService"]}},"/v1/entities/{entityRef}":{"get":{"summary":"GetEntity retrieves the current state of check results for a single\nentity identified by the client's reference. In the case of the entity\nbeing an organisation (or group), the results for all of the key people\nwill be returned.","operationId":"ClientAPIService_GetEntity","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1GetEntityResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"entityRef","description":"Client's reference or ID","in":"path","required":true,"type":"string"}],"tags":["ClientAPIService"]}},"/v1/{dataset.ref}":{"put":{"summary":"Update a dataset. Will not trigger workflows or re-checks for any\nexisting entities but will update internal details and trigger\nworkflows for new entities.","operationId":"ClientAPIService_Update2","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"dataset.ref","description":"Client's reference or ID","in":"path","required":true,"type":"string"},{"name":"body","in":"body","required":true,"schema":{"type":"object","properties":{"dataset":{"type":"object","properties":{"id":{"type":"string","description":"System-generated ID. Do not supply this value on initiate."},"entities":{"type":"array","items":{"$ref":"#/definitions/v1Entity"},"title":"Organisations and individuals to include in AML checks"},"transactions":{"type":"array","items":{"$ref":"#/definitions/v1Transaction"},"title":"Transactions associated with the entities in this dataset"}},"title":"Dataset is a container for a set of entities and transactions sent to Amlify"},"updateMask":{"type":"string"}},"title":"UpdateRequest provides a field mask to patch or a whole dataset to replace\nand existing dataset"}}],"tags":["ClientAPIService"]},"patch":{"summary":"Update a dataset. Will not trigger workflows or re-checks for any\nexisting entities but will update internal details and trigger\nworkflows for new entities.","operationId":"ClientAPIService_Update","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"dataset.ref","description":"Client's reference or ID","in":"path","required":true,"type":"string"},{"name":"dataset","description":"Dataset is a container for a set of entities and transactions sent to Amlify","in":"body","required":true,"schema":{"type":"object","properties":{"id":{"type":"string","description":"System-generated ID. Do not supply this value on initiate."},"entities":{"type":"array","items":{"$ref":"#/definitions/v1Entity"},"title":"Organisations and individuals to include in AML checks"},"transactions":{"type":"array","items":{"$ref":"#/definitions/v1Transaction"},"title":"Transactions associated with the entities in this dataset"}},"title":"Dataset is a container for a set of entities and transactions sent to Amlify"}},{"name":"updateMask","in":"query","required":false,"type":"string"}],"tags":["ClientAPIService"]}},"/v1/{datasetRef}":{"get":{"summary":"Result retrieves the current state of check results for entities\nassociated with the given dataset client's reference","operationId":"ClientAPIService_Result","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1ResultResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"datasetRef","description":"Client's reference or ID","in":"path","required":true,"type":"string"}],"tags":["ClientAPIService"]}},"/v1/{entity.ref}":{"put":{"summary":"UpdateEntity updates an entity's details. If new key people are added,\nworkflows will be triggered for them, otherwise no automatic re-checking\nis done.","operationId":"ClientAPIService_UpdateEntity2","responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1UpdateEntityResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"parameters":[{"name":"entity.ref","description":"Client's reference or ID","in":"path","required":true,"type":"string"},{"name":"body","in":"body","required":true,"schema":{"type":"object","properties":{"entity":{"type":"object","properties":{"person":{"$ref":"#/definitions/v1Person","title":"Either person or organisation must be set"},"organisation":{"$ref":"#/definitions/v1Organisation"},"customer":{"type":"boolean","title":"Indicate whether the person has a direct relationship with the reporting\nentity, therefore subject to KYC"},"businessNature":{"type":"string","title":"Nature of the entity's business (if a customer)"},"relationshipPurpose":{"type":"string","title":"Purpose of the relationship between the reporting entity and the entity\n(if a customer)"},"phone":{"type":"string","title":"Contact telephone number for AML inquiry follow-up"},"email":{"type":"string","title":"Contact email address for AML inquiy follow-up"},"addresses":{"type":"array","items":{"$ref":"#/definitions/v1Address"},"description":"Addresses for this entity."},"documents":{"type":"array","items":{"$ref":"#/definitions/v1Document"},"title":"Evidential documents for checks"},"keyPeople":{"type":"array","items":{"$ref":"#/definitions/v1KeyPerson"},"description":"Key people that belong to this entity. For this to be valid, this entity\nmust be an organisation and the key people must be persons."}},"title":"Entity is an organisation, group or individual subject to AML checks"}},"title":"UpdateEntityRequest provides an entity to patch or replace"}}],"tags":["ClientAPIService"]}}},"definitions":{"DocumentClaim":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"description":"Claims/fields that are specific to this document type. See separate\ndocumentation for specific requirements for validation. Examples include\nnames, address lines, etc."},"PersonGender":{"type":"string","enum":["GENDER_UNSPECIFIED","GENDER_MALE","GENDER_FEMALE","GENDER_NON_BINARY","GENDER_OTHER_TERM"],"default":"GENDER_UNSPECIFIED","title":"Types of gender storable by the system"},"protobufAny":{"type":"object","properties":{"@type":{"type":"string"}},"additionalProperties":{}},"rpcStatus":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"details":{"type":"array","items":{"$ref":"#/definitions/protobufAny"}}}},"v1Address":{"type":"object","properties":{"type":{"type":"string","title":"Can have any string but must match for document supplied as evidence"},"lines":{"type":"array","items":{"type":"string"},"description":"Address lines such as residential address, town, city, province, etc."},"country":{"type":"string","title":"Country the address is in"}},"title":"Generalised location information"},"v1Dataset":{"type":"object","properties":{"id":{"type":"string","description":"System-generated ID. Do not supply this value on initiate."},"ref":{"type":"string","title":"Client's reference or ID"},"entities":{"type":"array","items":{"$ref":"#/definitions/v1Entity"},"title":"Organisations and individuals to include in AML checks"},"transactions":{"type":"array","items":{"$ref":"#/definitions/v1Transaction"},"title":"Transactions associated with the entities in this dataset"}},"title":"Dataset is a container for a set of entities and transactions sent to Amlify"},"v1Document":{"type":"object","properties":{"ref":{"type":"string","title":"Reference number that uniquely defines the document in the client's\ndocument repository"},"purpose":{"$ref":"#/definitions/v1DocumentPurpose","title":"How to use the document for AML checking"},"idType":{"$ref":"#/definitions/v1IDType","title":"In the case of ID document, type of ID"},"uri":{"type":"string","description":"Link to a copy of the document in a document repository."},"number":{"type":"string","title":"Document issuer's unique number eg. Passport or driver's licence number"},"issueDate":{"type":"string","title":"Issue date (if applicable). Format yyyy-mm-dd"},"expiryDate":{"type":"string","title":"Expiry date (if applicable). Format yyyy-mm-dd"},"description":{"type":"string","description":"General description of the document if applicable."},"claims":{"type":"array","items":{"$ref":"#/definitions/DocumentClaim"}}},"description":"Document is a set of fields from an evidential document that make some kind\nof claim to be checked for AML purposes. For example, passport information\nas evidence of ID. The structure is a combination of optional typed fields\nand a flexible set of claims. See separate documentation on required fields\nfor a particular document type."},"v1DocumentPurpose":{"type":"string","enum":["DOCUMENT_PURPOSE_UNSPECIFIED","DOCUMENT_PURPOSE_INCORPORATION","DOCUMENT_PURPOSE_DEED","DOCUMENT_PURPOSE_ID","DOCUMENT_PURPOSE_ADDRESS"],"default":"DOCUMENT_PURPOSE_UNSPECIFIED","description":"Reason for submitting a document for AML checking.\n\n - DOCUMENT_PURPOSE_UNSPECIFIED: Not specified\n - DOCUMENT_PURPOSE_INCORPORATION: Certficiate of incorporation. e.g. for a company\n - DOCUMENT_PURPOSE_DEED: Deed document. e.g. trust deed\n - DOCUMENT_PURPOSE_ID: ID for a person\n - DOCUMENT_PURPOSE_ADDRESS: Proof of address"},"v1Entity":{"type":"object","properties":{"ref":{"type":"string","title":"Client's reference or ID"},"person":{"$ref":"#/definitions/v1Person","title":"Either person or organisation must be set"},"organisation":{"$ref":"#/definitions/v1Organisation"},"customer":{"type":"boolean","title":"Indicate whether the person has a direct relationship with the reporting\nentity, therefore subject to KYC"},"businessNature":{"type":"string","title":"Nature of the entity's business (if a customer)"},"relationshipPurpose":{"type":"string","title":"Purpose of the relationship between the reporting entity and the entity\n(if a customer)"},"phone":{"type":"string","title":"Contact telephone number for AML inquiry follow-up"},"email":{"type":"string","title":"Contact email address for AML inquiy follow-up"},"addresses":{"type":"array","items":{"$ref":"#/definitions/v1Address"},"description":"Addresses for this entity."},"documents":{"type":"array","items":{"$ref":"#/definitions/v1Document"},"title":"Evidential documents for checks"},"keyPeople":{"type":"array","items":{"$ref":"#/definitions/v1KeyPerson"},"description":"Key people that belong to this entity. For this to be valid, this entity\nmust be an organisation and the key people must be persons."}},"title":"Entity is an organisation, group or individual subject to AML checks"},"v1GetEntityResponse":{"type":"object","title":"GetEntityResponse is the current state of checks for an entity and its key\npeople"},"v1IDType":{"type":"string","enum":["ID_TYPE_UNSPECIFIED","ID_TYPE_ATTESTATION","ID_TYPE_NZ_DRIVERS_LICENCE","ID_TYPE_NZ_PASSPORT","ID_TYPE_VANUATU_ID"],"default":"ID_TYPE_UNSPECIFIED","description":"- ID_TYPE_UNSPECIFIED: Type of ID document is not specified\n - ID_TYPE_ATTESTATION: Letter of attestation from a person of standing\n - ID_TYPE_NZ_DRIVERS_LICENCE: New Zealand drivers licence\n - ID_TYPE_NZ_PASSPORT: New Zealand passport\n - ID_TYPE_VANUATU_ID: Vanuatu national ID card","title":"Types of ID document supported by the system"},"v1InitiateRequest":{"type":"object","properties":{"dataset":{"$ref":"#/definitions/v1Dataset","title":"Set of entities and transactions to group together and trigger workflows"}},"title":"InitiateRequest provides a dataset of entities and transactions to add to\nAmlify and trigger workflows"},"v1InitiateResponse":{"type":"object","properties":{"id":{"type":"string","title":"Internal system-generated ID for the dataset"},"ref":{"type":"string","title":"Reflect back the client's reference for the dataset"},"message":{"type":"string","title":"System message"}},"title":"InitiateResponse is a confirmation that a dataset has been stored"},"v1KeyPerson":{"type":"object","properties":{"entity":{"$ref":"#/definitions/v1Entity"},"type":{"$ref":"#/definitions/v1KeyPersonType","title":"Type of this key person"}},"description":"Entity that is a key person of this entity (must be a person entity type)\nand the type of key person they are."},"v1KeyPersonType":{"type":"string","enum":["TYPE_UNSPECIFIED","TYPE_OWNER","TYPE_DIRECTOR","TYPE_CONTROLLER","TYPE_KEY_MANAGER","TYPE_TRUSTEE","TYPE_BENEFICIARY","TYPE_AGENT","TYPE_MEMBER","TYPE_VENDOR"],"default":"TYPE_UNSPECIFIED","title":"Possible types of key person"},"v1Organisation":{"type":"object","properties":{"name":{"type":"string","title":"Name of the organisation or group"},"number":{"type":"string","title":"Registered number (for government register)"},"incorporationDate":{"type":"string","description":"Incorporation or creation date as a string. Expected pattern: yyyy-mm-dd."},"type":{"$ref":"#/definitions/v1OrganisationType","title":"Type of this organisation"},"industry":{"type":"string","title":"Industry organisation or group operates in"}},"title":"Organisation is informatin about an organisation (entity is a group or organisation)"},"v1OrganisationType":{"type":"string","enum":["TYPE_UNSPECIFIED","TYPE_COMPANY","TYPE_TRUST","TYPE_LISTED_COMPANY","TYPE_NOMINEE","TYPE_GOVERNMENT","TYPE_PUBLIC_PRIVATE","TYPE_INFORMAL_GROUP"],"default":"TYPE_UNSPECIFIED","description":"Possible values that can be used when setting the type of organisation."},"v1Person":{"type":"object","properties":{"givenNames":{"type":"string","title":"Given names"},"familyName":{"type":"string","title":"Family name"},"dateOfBirth":{"type":"string","description":"Date of birth as a string. Expected pattern: yyyy-mm-dd."},"placeOfBirth":{"type":"string","title":"Birth place location"},"gender":{"$ref":"#/definitions/PersonGender","title":"Gender (must be specified)"},"occupation":{"type":"string"}},"title":"Person is information about an individual (entity is a person)"},"v1ResultResponse":{"type":"object","title":"ResultResponse is all of the entities and the current state of their checks\nfor a dataset"},"v1Transaction":{"type":"object","properties":{"ref":{"type":"string","title":"Client's reference or ID"},"dateTime":{"type":"string","format":"date-time","title":"Date and time of transaction"},"senderRef":{"type":"string","description":"Entity reference for sender if entity information is provided."},"sender":{"type":"string","description":"Name of sender if no entity information is provided."},"recipientRef":{"type":"string","description":"Entity reference for recipient if entity information is provided."},"recipient":{"type":"string","description":"Name of recipient if no entity information is provided."},"purpose":{"type":"string","title":"Purpose of the transaction"},"amount":{"type":"number","format":"double","title":"Transaction amount"},"frequency":{"type":"string","description":"How frequently the transaction repeats eg. once, twice per week, monthly, annually, etc."}},"title":"Transaction records details of a transaction between entities"},"v1UpdateEntityResponse":{"type":"object","title":"UpdateEntityResponse reflects the updated entity"},"v1UpdateResponse":{"type":"object","properties":{"id":{"type":"string","title":"Internal system-generated ID for the dataset"},"ref":{"type":"string","title":"Reflect back the client's reference for the dataset"},"message":{"type":"string","title":"System message"}},"title":"UpdateResponse is a confirmation that the dataset has been updated"}}}